<head>
    <meta charset="utf-8">
    <title>Alex LaFetra</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/index.css">
    <script language="javascript" type="text/javascript" src="/p5.min.js"></script>
    <script language="javascript" type="text/javascript" src="/journal.js"></script>
    <script>
        function buildSideList(){
            for(const entry of list){
                const parentDiv = document.getElementById(entry.section);
                const newElement = document.createElement('div');
                if(entry.thumbnail){
                    newElement.onmouseout = clearMouseImage;
                    newElement.onmouseenter = () => {setMouseImage(entry.thumbnail)};
                }
                newElement.onclick = () => {
                    const otherElements = document.getElementsByClassName('link');
                    for(let l of otherElements){
                        l.style.color = null;
                        l.style.fontStyle = null;
                    }
                    const thisElement = document.getElementById(entry.title);
                    thisElement.style.color = 'blue';
                    thisElement.style.fontStyle = 'italic';
                    load(entry);
                };
                newElement.innerText = entry.title;
                newElement.id = entry.title;
                newElement.className = 'link';
                parentDiv.appendChild(newElement);
            }
        }
        const mouseCoords = {
            x:0,
            y:0
        };
        function setMouseImage(src){
            const img = document.getElementById('mouse_image');
            img.style.visibility = 'visible';
            img.src = src;
        }
        function handleMouseMove(){
            const container = document.getElementById('mouse_image_container');
            container.style.left = mouseCoords.x;
            container.style.top = mouseCoords.y;
        }
        function clearMouseImage(){
            const img = document.getElementById('mouse_image');
            img.style.visibility = 'hidden';
        }

        function load(item){
            //clear out old content
            const container = document.getElementById("center_container");
            container.innerHTML = null;

            //visual art pieces just have image galleries
            if(item.visualArt){
                const key = item.visualArt;
                const images = visual_art[`${key}`];
                for(let img of images){
                    const newImg = document.createElement('img');
                    newImg.src = img;
                    container.appendChild(newImg);
                }
            }
            //web pieces have images/videos and a short description
            else if(item.onlineWork){
                const key = item.onlineWork;
                const content = online_work[`${key}`];
                for(let item of content){
                    let newElement;
                    switch(item.type){
                        case 'title':
                            newElement = document.createElement('div');
                            newElement.className = 'content_title';
                            newElement.innerText = item.content;
                            break;
                        case 'text':
                            newElement = document.createElement('div');
                            newElement.className = 'content_text';
                            newElement.innerText = item.content;
                            break;
                        case 'image':
                            newElement = document.createElement('img');
                            newElement.className = 'content_image';
                            newElement.src = item.content;
                            if(item.width)
                                newElement.width = item.width;
                            break;
                        case 'link':
                            newElement = document.createElement('a');
                            newElement.className = 'content_link';
                            newElement.innerText = item.content;
                            newElement.href = item.address;
                            break;
                    }
                    container.appendChild(newElement);
                }
            }
        }
        function handleKeyPress(e){
            const textBox = document.getElementById('password_box');
            if(e.key == 'Enter'){
                const password = textBox.innerText;
                textBox.innerText = 'alex lafetra thompson';
                textBox.style.color = 'black';
                return;
            }
            else if(e.key == 'Backspace'){
                textBox.innerText = textBox.innerText.slice(0,-1);
            }
            else if(e.key.length == 1){
                if(textBox.innerText == 'alex lafetra thompson')
                    textBox.innerText = e.key;
                else
                    textBox.innerText += e.key;
            }
            textBox.style.color = 'red';
        }
        window.onmousemove = (e) => {
            mouseCoords.x = e.clientX;
            mouseCoords.y = e.clientY;
            handleMouseMove(e);
        }
        window.onkeydown = handleKeyPress;
        window.onload = buildSideList;
        const flockSize = 'small';
    </script>
    <script language="javascript" type="text/javascript" src="/flock.js"></script>
</head>
<body>
<div id = "mouse_image_container"><img id = "mouse_image"></div>
<div id = "page_container">
    <div id = "title_container">
        <div class = "title" id = "password_box">alex lafetra thompson</div>
        <main></main>
    </div>
    <div id = "list_container">
        <div class = "title">site map</div>
        <br/>
        <div class = "heading">/visual</div>
        <div id = "visual"></div>
        <br>
        <div class = "heading">/websites</div>
        <div id = "web"></div>
        <br/>
        <div class = "heading">/hardware</div>
        <div id = "hardware"> </div>

        <br/>
        <div class = "heading">/wip</div>
        <div id = "wip"></div>

    </div>
    <div id = 'center_container'>
        <img src = "/images/thumbnails/tamo_pixels.jpg">
    </div>
</div>
</body>
</html>
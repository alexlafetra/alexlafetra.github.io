<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Alex LaFetra</title>
    <link href="styles/index.css" rel="stylesheet">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- this is the code linking the boids background-->
    <script language="javascript" type="text/javascript" src="scripts/libraries/p5.min.js"></script>
    <script language="javascript" type="text/javascript" src="scripts/boids_background.js"></script>
    <!-- this is the code loading each center image -->
    <script>
        function setDivToMouse(){
            const element = document.getElementById("mouseChaser");
            const dim = element.offsetWidth;
            element.style.left = mouseX-dim/2+"px";
            element.style.top = mouseY-dim/2+"px";
        }
        function faceMouse(){
            let xAngle = map((mouseY-height/2),-height/2,height/2,-90,90)*(0.6)+360;
            let yAngle = map((mouseX-width/2),-width/2,width/2,-90,90)*(-0.6)+360;
            let dist = p5.Vector.dist(createVector(mouseX,mouseY),createVector(windowWidth/2,windowHeight/2));
            let scale = 250;
            if(windowWidth<250*2.5){
                scale = windowWidth/2.5
            }
            let txt;
            //so it doesn't rotate when you're within the text
            if(dist>300){
                zAngle+=0.5;
            }
            txt = "rotateX("+xAngle+"deg) rotateY("+yAngle+"deg) rotateZ("+zAngle+"deg) scale("+scale+"%)";
        
            let element = document.getElementById("text_svg");
            element.style.transform = txt;
        }
        //clears all center images
        function clearImages(){
            let list = document.getElementsByClassName("main_menu_media");
            for(let i = 0; i<list.length; i++){
                list[i].style.display = "none";
            }
        }
        //loads an image
        function loadCenterImage(which){
            clearImages();
            document.getElementById(which).style.display = "block";
        }
        function slideMenu(id){
            let element = document.getElementById(id);
            let bounds  = element.getBoundingClientRect();
            if(window.width-bounds.right == bounds.width){
                element.style.right = (-bounds.width)+'px';
            }
            else{
                element.style.right = bounds.width+'px';
            }
            let elements = document.getElementsByClassName('side_list');
            for(let e of elements){
                if(e.id != id){
                    e.style.right = (-e.getBoundingClientRect().width)+'px';
                }
            }
        }
        function whiteOutAndLoad(url){
            document.getElementById('whiteScreen').style.width = "100%";
            setTimeout(()=>{window.location.href = url},800);
        }
    </script>
</head>
<body>
    <div id = "mouseChaser" class = "collisionElement" style = "z-index:1;display:block;position:absolute;width:100px;height:100px;background-color: white;"></div>
    <div id = "whiteScreen" style = "position:absolute;transition:1s;width:0;height:100%;background-color:white;z-index:3;"></div>
    <!-- <div id = "placeholder_list" class = "collisionElement side_list" style="position:absolute;right:200px;top:200px;width:200px;z-index: 1;">
        <p>hey hey hye hey hye</p>
        <p>hey hey hye hey hye</p>
        <p>hey hey hye hey hye</p>
        <p>hey hey hye hey hye</p>
        <p>hey hey hye hey hye</p>
    </div>
    <div id = "digital_work_list" class = "collisionElement side_list" style="position:absolute;right:200px;top:200px;width:200px;z-index: 1;">
        <p>hey hey hye hey hye</p>
        <p>hey hey hye hey hye</p>
        <p>hey hey hye hey hye</p>
        <p>hey hey hye hey hye</p>
        <p>hey hey hye hey hye</p>
    </div> -->
    <div id = "center_index" class = "collisionElement">
        <div id = "center_description_container">
            <img class = "center_description" src = "images/backgrounds/babyface.jpg">
            <p>My name is Alex, I'm an Artist and Designer from California. </p>
        </div>
        <!-- center media -->
        <img id = "0" class = "main_menu_media" src = "main_menu_media/art.jpeg">
        <img id = "1" class = "main_menu_media" src = "main_menu_media/transformer.jpeg">
        <img id = "2" class = "main_menu_media" src = "projects/thumbnails/stepchild.png">
        <img id = "3" class = "main_menu_media" src = "images/about/about_img.png">
        <img id = "4" class = "main_menu_media" src = "images/installation/IMG_9980.jpeg">
        <!-- circular menu -->
        <!-- note to self: i made this path using http://complexdan.com/svg-circleellipse-to-path-converter/ -->
        <svg id = "text_svg" width="250" height="250" onmouseleave = "clearImages()">
            <path id = "curve" fill = "none" d="M25,125a100,100 0 1,0 200,0a100,100 0 1,0 -200,0"/>
            <text>
                <textPath alignment-baseline = "top" xlink:href="#curve" startOffset = "0" id = "circleText" color = "rgb(255,255,255)">
                    <a class = "link" onclick = "whiteOutAndLoad('art.html');">Visual Art</a>
                    <a>  -  </a>
                    <a class = "link" onclick = "slideMenu('placeholder_list');">Music</a>
                    <a>  -  </a>
                    <a class = "link" onclick = "slideMenu('digital_work_list');">Digital Work</a>
                    <a>  -  </a>
                    <a class = "link" onclick = "whiteOutAndLoad('stepchild.html');"">The Stepchild</a>
                    <a>  -  </a>
                </textPath>
            </text>
        </svg>
    </div>
</body>
<script>
    function hideAllLists(){
        let listList = document.getElementsByClassName("side_list");
        for(let list of listList){
            slideMenu(list.id);
        }
    }
    window.addEventListener('load', function() {
    hideAllLists();
    });
</script>
</html>